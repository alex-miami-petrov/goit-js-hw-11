{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst apiKey = '44685335-fea0dcf7b7c0436df223e42aa';\n\nexport async function fetchImages(searchTerm) {\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(\n    searchTerm\n  )}&image_type=photo&orientation=horizontal&safesearch=true&order=popular&per_page=9`;\n\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw new Error('Failed to fetch images from Pixabay');\n  }\n}\n","import iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nexport function renderImages(images) {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '';\n\n  if (images.length === 0) {\n    showErrorMessage();\n    return;\n  }\n\n  const columnWidth = '360px';\n  const rowHeight = '200px';\n  // const gap = '24px';\n\n  images.forEach(image => {\n    const listItem = document.createElement('li');\n    listItem.classList.add('gallery-item');\n\n    const link = document.createElement('a');\n    link.href = image.largeImageURL;\n    link.setAttribute('data-lightbox', 'gallery');\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n    link.appendChild(img);\n\n    const info = document.createElement('div');\n    info.classList.add('image-info');\n\n    const likes = document.createElement('p');\n    likes.textContent = `Likes ${image.likes}`;\n    info.appendChild(likes);\n\n    const views = document.createElement('p');\n    views.textContent = `Views ${image.views}`;\n    info.appendChild(views);\n\n    const comments = document.createElement('p');\n    comments.textContent = `Comments ${image.comments}`;\n    info.appendChild(comments);\n\n    const downloads = document.createElement('p');\n    downloads.textContent = `Downloads ${image.downloads}`;\n    info.appendChild(downloads);\n\n    listItem.appendChild(link);\n    listItem.appendChild(info);\n    gallery.appendChild(listItem);\n  });\n\n  lightbox.refresh();\n}\n\nfunction showErrorMessage() {\n  iziToast.error({\n    title: 'Error',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n  });\n}\n","import iziToast from 'izitoast';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\n\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\nconst loader = document.getElementById('loader');\n\nsearchForm.addEventListener('submit', async function (event) {\n  event.preventDefault();\n\n  const searchTerm = searchInput.value.trim();\n\n  if (searchTerm === '') {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search term',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  try {\n    loader.style.display = 'block';\n    const images = await fetchImages(searchTerm);\n    renderImages(images);\n  } catch (error) {\n    console.error('Error searching images:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to search images. Please try again later.',\n      position: 'topRight',\n    });\n  } finally {\n    loader.style.display = 'none';\n    searchInput.value = '';\n  }\n});\n"],"names":["apiKey","fetchImages","searchTerm","url","error","lightbox","SimpleLightbox","renderImages","images","gallery","showErrorMessage","image","listItem","link","img","info","likes","views","comments","downloads","iziToast","searchForm","searchInput","loader","event"],"mappings":"wvBAQA,MAAMA,EAAS,qCAER,eAAeC,EAAYC,EAAY,CAC5C,MAAMC,EAAM,gCAAgCH,CAAM,MAAM,mBACtDE,CACD,CAAA,oFAED,GAAI,CAGF,OADa,MADI,MAAM,MAAMC,CAAG,GACJ,QAChB,IACb,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvC,IAAI,MAAM,qCAAqC,CACtD,CACH,CCfA,MAAMC,EAAW,IAAIC,EAAe,YAAY,EAEzC,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,eAAe,SAAS,EAGjD,GAFAA,EAAQ,UAAY,GAEhBD,EAAO,SAAW,EAAG,CACvBE,IACA,MACD,CAMDF,EAAO,QAAQG,GAAS,CACtB,MAAMC,EAAW,SAAS,cAAc,IAAI,EAC5CA,EAAS,UAAU,IAAI,cAAc,EAErC,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOF,EAAM,cAClBE,EAAK,aAAa,gBAAiB,SAAS,EAE5C,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAM,aAChBG,EAAI,IAAMH,EAAM,KAChBE,EAAK,YAAYC,CAAG,EAEpB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,YAAY,EAE/B,MAAMC,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,YAAc,SAASL,EAAM,KAAK,GACxCI,EAAK,YAAYC,CAAK,EAEtB,MAAMC,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,YAAc,SAASN,EAAM,KAAK,GACxCI,EAAK,YAAYE,CAAK,EAEtB,MAAMC,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,YAAc,YAAYP,EAAM,QAAQ,GACjDI,EAAK,YAAYG,CAAQ,EAEzB,MAAMC,EAAY,SAAS,cAAc,GAAG,EAC5CA,EAAU,YAAc,aAAaR,EAAM,SAAS,GACpDI,EAAK,YAAYI,CAAS,EAE1BP,EAAS,YAAYC,CAAI,EACzBD,EAAS,YAAYG,CAAI,EACzBN,EAAQ,YAAYG,CAAQ,CAChC,CAAG,EAEDP,EAAS,QAAO,CAClB,CAEA,SAASK,GAAmB,CAC1BU,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACd,CAAG,CACH,CClEA,MAAMC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAS,SAAS,eAAe,QAAQ,EAE/CF,EAAW,iBAAiB,SAAU,eAAgBG,EAAO,CAC3DA,EAAM,eAAc,EAEpB,MAAMtB,EAAaoB,EAAY,MAAM,KAAI,EAEzC,GAAIpB,IAAe,GAAI,CACrBkB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,6BACT,SAAU,UAChB,CAAK,EACD,MACD,CAED,GAAI,CACFG,EAAO,MAAM,QAAU,QACvB,MAAMf,EAAS,MAAMP,EAAYC,CAAU,EAC3CK,EAAaC,CAAM,CACpB,OAAQJ,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,EAC9CgB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,mDACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRG,EAAO,MAAM,QAAU,OACvBD,EAAY,MAAQ,EACrB,CACH,CAAC"}